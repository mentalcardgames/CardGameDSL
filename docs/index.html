<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Domain Specific Language For Card Games (in Rust)</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f4f4f9;
            color: #333;
        }

        header {
            background-color: #2c3e50;
            color: white;
            padding: 20px;
            text-align: center;
        }

        header h1 {
            margin: 0;
        }

        .container {
            width: 90%;
            margin: 20px auto;
        }

        .section {
            margin-bottom: 40px;
        }

        .section h2 {
            color: #2c3e50;
            border-bottom: 2px solid #ecf0f1;
            padding-bottom: 10px;
        }

        .section p {
            line-height: 1.6;
        }

        .code-block {
            background-color: #2d3436;
            color: #ecf0f1;
            padding: 20px;
            border-radius: 5px;
            overflow-x: auto;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        .code-block pre {
            margin: 0;
        }

        footer {
            text-align: center;
            padding: 20px;
            background-color: #2c3e50;
            color: white;
        }

        footer a {
            color: #ecf0f1;
            text-decoration: none;
        }

        footer a:hover {
            text-decoration: underline;
        }
    </style>
    <!-- Prism CSS for syntax colors -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />

    <!-- Prism JS for highlighting logic -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>

    <!-- Optional: Add language support you need -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-rust.min.js"></script>

</head>

<body>
    <header>
        <h1>Project Name</h1>
        <p>A brief description of what the project does</p>
    </header>

    <div class="container">
        <div class="section">
            <h2>Table of Contents</h2>
            <ul>
                <li><a href="#overview">Project Overview</a></li>
                <li><a href="#library">How to use the library</a></li>
                <li><a href="#installation">Installation Guide</a></li>
                <li><a href="#usage">Usage</a></li>
                <li><a href="#code">Code Structure</a></li>
                <li><a href="#contributing">Contributing</a></li>
            </ul>
        </div>

        <div class="section" id="overview">
            <h2>Project Overview</h2>
            <p>This project is a brief description of the overall purpose and goal of your code. Explain the problem it solves, its main features, and what sets it apart from other similar projects.</p>
        </div>

        <div class="section" id="library">
            <h2>How to use the library</h2>
            <p>
                You start with creating a mutable CardGameModel variable:
            </p>
            <pre><code class="language-rust">
        let mut cgm = CardGameModel::new("MyCardGame");
            </code></pre>
            <p>
                !!! TODO: If the Language-Design is done (edit this how it should look like) !!! <br>
                To add Players to the Model (at the moment) you need to give the Model the Player-Names.<br>
                It looks like this:<br>
            </p>
            <pre><code class="language-rust">
        // Initializing the Model
        let mut cgm = CardGameModel::new("MyCardGame");

        // Adding (and Initializing) Players to the Model
        players!("Jimmy", "Timmy", "Kimmy")(&mut cgm.gamedata);
            </code></pre>
            <p>
                The Macros players!(...) is a Closure which takes a &mut GameData and adds the Players to the GameData.
                (This structure with Clousres is used for 'almost' every Macros).
            </p>
        
            <p>
                Let's say we need Teams in our Game.
                And let's also say that nobody likes "Kimmy".
                This can be done like this:
            </p>
            <pre><code class="language-rust">
        // Initializing the Model
        let mut cgm = CardGameModel::new("MyCardGame");

        // Adding (and Initializing) Players to the Model
        players!("Jimmy", "Timmy", "Kimmy")(&mut cgm.gamedata);

        // Adding (and Initializing) 'a' Team to the Model
        team!("TheBestTeam", ("Jimmy", "Timmy"))(&mut cgm.gamedata);
        
        // Adding (and Initializing) 'a' Team to the Model
        team!("TheWorstTeam", ("Kimmy"))(&mut cgm.gamedata);
            </code></pre>

            <p>
                Now we have our Players and Teams. BUT WHERE ARE THE CARDS?
                Do we have a Card-Stack? Where are the Players-Cards located?
                We first should declare some Locations where Cards can be placed!
            </p>

            <pre><code class="language-rust">
        // Initializing the Model
        let mut cgm = CardGameModel::new("MyCardGame");

        // Adding (and Initializing) Players to the Model
        players!("Jimmy", "Timmy", "Kimmy")(&mut cgm.gamedata);

        // Adding (and Initializing) 'a' Team to the Model
        team!("TheBestTeam", ("Jimmy", "Timmy"))(&mut cgm.gamedata);
        
        // Adding (and Initializing) 'a' Team to the Model
        team!("TheWorstTeam", ("Kimmy"))(&mut cgm.gamedata);

        // add Location 'hand' to each Player
        location_on!("hand", ("Jimmy", "Timmy", "Kimmy"))(&mut cgm.gamedata);

        // Add a Stack to the Table
        location_on!("stack", table)(&mut cgm.gamedata);
            </code></pre>

            <p>
                Now we have almost everything Set-Up for a Card Game!
                But ... where are the Cards?
                What kind of Cards do we need?
                What is a Card?

                A Card in our Game-Context:
                // TODO: Add Definition of our Card
                - has Attributes:
                    > For Example:
                        - Rank:  (2, 3, 4, 5, 6, 7, ...)
                        - Suite: (Clubs, Spades, Hearts, Diamonds)
                    > Example for a Card:
                        - CardExample:
                            Rank  = 6
                            Suite = Clubs
                
                These Atrributes can be completely arbitrary!

                Now where do we need Cards for the Set-Up of the Game?
                Let's say we have all our Cards in the Stack on the Table:
            </p>
            <pre><code class="language-rust">
        // Initializing the Model
        let mut cgm = CardGameModel::new("MyCardGame");

        // Adding (and Initializing) Players to the Model
        players!("Jimmy", "Timmy", "Kimmy")(&mut cgm.gamedata);

        // Adding (and Initializing) 'a' Team to the Model
        team!("TheBestTeam", ("Jimmy", "Timmy"))(&mut cgm.gamedata);
        
        // Adding (and Initializing) 'a' Team to the Model
        team!("TheWorstTeam", ("Kimmy"))(&mut cgm.gamedata);

        // add Location 'hand' to each Player
        location_on!("hand", ("Jimmy", "Timmy", "Kimmy"))(&mut cgm.gamedata);

        // Add a Stack to the Table
        location_on!("stack", table)(&mut cgm.gamedata);

        // Create Cards on the Location 'stack'
        card_on!(
            "stack",
            {
                Rank("2", "3", "4", "5", "6", "7", "8", "9", "T", "J", "Q", "K", "A"),
                Suite("Diamond", "Hearts"),
                Color("Red")
            },
            {
                Rank("2", "3", "4", "5", "6", "7", "8", "9", "T", "J", "Q", "K", "A"),
                Suite("Spades", "Clubs"),
                Color("Black")
            }
        )(&mut cgm.gamedata);
            </code></pre>

            <p>
                card_on!(locname: String, { (key((value: String), *)), *}) computes the Cross-Product of the inside of '{''}'.
                In the Example we declare Cards with the Color 'Black' and 'Red' seperately, because of the Cross-Product!
            </p>

            <p>
                Now we have Cards!
                For lots Games (e.g. Trick-Taking-Games) the importance of a Card-Precedence is very important.
                What we mean with Card-Precedence is: Which Card is higher, lower or the same to another Card? 
            </p>

            <pre><code class="language-rust">
        // Initializing the Model
        let mut cgm = CardGameModel::new("MyCardGame");

        ...

        // We create a PointMap (for the Special case 'Black Jack')
        pointmap!(
            "BlackJackRank",
            nested: {  
                "Rank", (
                "2" => [2],
                "3" => [3],
                "4" => [4],
                "5" => [5],
                "6" => [6],
                "7" => [7],
                "8" => [8],
                "9" => [9],
                "T" => [10],
                "J" => [10],
                "Q" => [10],
                "K" => [10],
                "A" => [11, 1]
                )
            },
        )(&mut cgm.gamedata);
            </code></pre>

            <p>
                There is also another way to declare this PointMap:  
            </p>

            <pre><code class="language-rust">
        // Initializing the Model
        let mut cgm = CardGameModel::new("MyCardGame");

        ...

        // We create a PointMap (for the Special case 'Black Jack')
        pointmap!(
            "BlackJackRank",
            list: {  
                ("Rank", "2") => [2],
                ("Rank", "3") => [3],
                ("Rank", "4") => [4],
                ("Rank", "5") => [5],
                ("Rank", "6") => [6],
                ("Rank", "7") => [7],
                ("Rank", "8") => [8],
                ("Rank", "9") => [9],
                ("Rank", "T") => [10],
                ("Rank", "J") => [10],
                ("Rank", "Q") => [10],
                ("Rank", "K") => [10],
                ("Rank", "A") => [1, 11],
            },
        )(&mut cgm.gamedata);
            </code></pre>

            <p>
                You can also combine these two:
            </p>

            <pre><code class="language-rust">
        // Initializing the Model
        let mut cgm = CardGameModel::new("MyCardGame");

        ...

        // We create a PointMap (for the Special case 'Black Jack')
        pointmap!(
            "BlackJackRank",
            nested: {  
                "Rank", (
                "2" => [2],
                "3" => [3],
                "4" => [4],
                "5" => [5],
                "6" => [6],
                "7" => [7],
                "8" => [8],
                "9" => [9],
                "T" => [10],
                "J" => [10],
                "Q" => [10],
                "K" => [10],
                "A" => [11, 1]
                )
            },
            list: {  
                ("Suite", "Clubs")    => [10],
                ("Suite", "Spades")   => [1],
                ("Suite", "Hearts")   => [1],
                ("Suite", "Diamonds") => [1],
            },
        )(&mut cgm.gamedata);
            </code></pre>


            <p>
                Another use of PointMap would be to declare a Special Point-Distribution (e.g. in a Trick).
                In the German Game 'Skat', we have a distribution like this:
                7, 8, 9 => [0]
                J => [2]
                Q => [3]
                K => [4]
                T => [10]
                A => [11]

                This assigning of Points is not Possible with Precedence!
            </p>

            <p>
                // TODO: Memory and other missing things in Set-Up
            </p>
            <p>
                ------------------------------------------------------------------------
                OLD STUFF:
            </p>

            <p>
                <strong>players!</strong> — Initializes players:
            </p>
            <pre><code class="language-rust">
        players!((playername: &str), *)(gd: &mut GameData);
            </code></pre>

            <p>

            </p>
        
            <p>
                <strong>team!</strong> — Initializes a team:
            </p>
            <pre><code class="language-rust">
        team!(teamname: &str, ((playername: &str), *))(gd: &mut GameData);
            </code></pre>
        
            <p>
                <strong>location_on!</strong> — Initializes locations:
            </p>
            <pre><code class="language-rust">
        location_on!(locationname: String, players: Vec<Rc<RefCell<Player>>>);
        location_on!(locationname: String, team: &Team);
        location_on!(locationname: String, table: &Table);
            </code></pre>
        
            <p>
                <strong>card_on!</strong> — Sets cards on a location:
            </p>
            <pre><code class="language-rust">
        card_on!(cgm: &mut CardGameModel, location: String, ...);
            </code></pre>
        
            <p>
                <strong>precedence!</strong> — Sets precedence for key:
            </p>
            <pre><code class="language-rust">
        precedence!(cgm: &mut CardGameModel, (Key: String, (v1: String, v2: String, ...)));
            </code></pre>
        
            <p>
                <strong>pointmap!</strong> — Define nested pointmap:
            </p>
            <pre><code class="language-rust">
        pointmap!(cgm: &mut CardGameModel, nested: 
            (keyname,
                (
                valname1 => [i32],
                valname2 => [i32],
                ...
                )
            )
        );
            </code></pre>
        
            <p>
                <strong>pointmap!</strong> — Define flat pointmap:
            </p>
            <pre><code class="language-rust">
        pointmap!(cgm: &mut CardGameModel, list: 
            (
                (keyname1, valname1) => [i32],
                (keyname2, valname2) => [i32],
                ...
            )
        );
            </code></pre>
        
            <p>
                <strong>turnorder!</strong> — Set turn order:
            </p>
            <pre><code class="language-rust">
        turnorder!(cgm: &mut CardGameModel, players: Vec<Rc<RefCell<Player>>>);
        turnorder!(cgm: &mut CardGameModel, players: Vec<Rc<RefCell<Player>>>, random);
            </code></pre>
        
            <p>
                <strong>filter!</strong> — See documentation in code.
            </p>
        </div>
        
        <div class="section" id="installation">
            <h2>Installation Guide</h2>
            <p>Provide clear instructions on how to install the project and its dependencies. Example:</p>
            <div class="code-block">
                <pre>
# Clone the repository
git clone https://github.com/yourusername/project-name.git

# Navigate to the project directory
cd project-name

# Install dependencies
npm install
                </pre>
            </div>
        </div>

        <div class="section" id="usage">
            <h2>Usage</h2>
            <p>Explain how to use your project once it's set up. Provide examples with command line input, or if applicable, screenshots of the user interface.</p>
            <div class="code-block">
                <pre>
# Run the project
npm start
                </pre>
            </div>
        </div>

        <div class="section" id="code">
            <h2>Code Structure</h2>
            <p>Provide an overview of how your code is organized. This section should outline key directories and files. You can also mention important classes or functions.</p>
            <h3>File Structure:</h3>
            <div class="code-block">
                <pre>
project-name/
├── src/
│   ├── index.js
│   └── app.js
├── package.json
├── README.md
                </pre>
            </div>
            <p>Explain the key files and what each one does. For example:</p>
            <ul>
                <li><strong>index.js:</strong> The entry point for the application.</li>
                <li><strong>app.js:</strong> Contains the main app logic and routes.</li>
                <li><strong>README.md:</strong> This documentation file.</li>
            </ul>
        </div>

        <div class="section" id="contributing">
            <h2>Contributing</h2>
            <p>If you'd like others to contribute to your project, explain how they can do so. Provide steps for setting up a development environment, submitting pull requests, or reporting issues.</p>
            <div class="code-block">
                <pre>
# Fork the repository
git clone https://github.com/yourusername/project-name.git

# Create a new branch for your feature
git checkout -b feature-name

# Commit your changes
git commit -m "Description of changes"

# Push to your fork
git push origin feature-name

# Create a pull request
                </pre>
            </div>
        </div>
    </div>

    <footer>
        <p>Made with ❤️ by <a href="https://github.com/yourusername" target="_blank">Your Name</a></p>
    </footer>
</body>

</html>
